(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2315ed8f"],{"029e":function(e,t,i){"use strict";var a=i("a576"),s=i.n(a);s.a},"1dde":function(e,t,i){var a=i("d039"),s=i("b622"),o=i("2d00"),n=s("species");e.exports=function(e){return o>=51||!a((function(){var t=[],i=t.constructor={};return i[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,i){"use strict";var a=i("23e7"),s=i("b727").filter,o=i("1dde"),n=i("ae40"),r=o("filter"),d=n("filter");a({target:"Array",proto:!0,forced:!r||!d},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},8418:function(e,t,i){"use strict";var a=i("c04e"),s=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var n=a(t);n in e?s.f(e,n,o(0,i)):e[n]=i}},a434:function(e,t,i){"use strict";var a=i("23e7"),s=i("23cb"),o=i("a691"),n=i("50c4"),r=i("7b0b"),d=i("65f0"),l=i("8418"),c=i("1dde"),u=i("ae40"),h=c("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,_=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!f},{splice:function(e,t){var i,a,c,u,h,f,w=r(this),g=n(w.length),x=s(e,g),b=arguments.length;if(0===b?i=a=0:1===b?(i=0,a=g-x):(i=b-2,a=m(p(o(t),0),g-x)),g+i-a>_)throw TypeError(v);for(c=d(w,a),u=0;u<a;u++)h=x+u,h in w&&l(c,u,w[h]);if(c.length=a,i<a){for(u=x;u<g-a;u++)h=u+a,f=u+i,h in w?w[f]=w[h]:delete w[f];for(u=g;u>g-a+i;u--)delete w[u-1]}else if(i>a)for(u=g-a;u>x;u--)h=u+a-1,f=u+i-1,h in w?w[f]=w[h]:delete w[f];for(u=0;u<i;u++)w[u+x]=arguments[u+2];return w.length=g-a+i,c}})},a576:function(e,t,i){},a8d8:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"custom-tree-container"},[i("div",{staticClass:"block"},[i("div",{staticStyle:{margin:"25px 0px"}},[e._v(" 搜索："),i("el-input",{staticClass:"tree-input",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("span",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"warning"},on:{click:e.setCheckedNodes}},[e._v("全选")]),i("el-button",{attrs:{type:"primary"},on:{click:e.resetChecked}},[e._v("全不选")]),i("el-button",{attrs:{type:"danger"},on:{click:e.getCheckedNodes}},[e._v("批量删除")])],1)],1),i("el-tree",{ref:"tree",staticClass:"my-tree",attrs:{data:e.data,"show-checkbox":"","node-key":"id","filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,s=t.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(a.label))]),i("span",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:s.show_name,expression:"data.show_name"}],attrs:{icon:"el-icon-search",circle:""},on:{click:function(t){return e.seeAll(a,s)}}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新添习题",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:s.show_edit,expression:"data.show_edit"}],attrs:{icon:"el-icon-edit",circle:""},on:{click:function(t){return e.edit(a,s)}}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:s.show_del,expression:"data.show_del"}],attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(){return e.remove(a,s)}}})],1)],1)])}}])})],1),i("el-dialog",[i("el-dialog",{attrs:{title:"登陆",visible:e.dialog,center:"","append-to-body":!0,"lock-scroll":!1,width:"30%"},on:{"update:visible":function(t){e.dialog=t}}},[i("p",[e._v("sada")])])],1)],1)},s=[],o=(i("4de4"),i("c740"),i("4160"),i("c975"),i("a434"),i("b0c0"),i("159b"),{name:"manageExe",data:function(){var e=[{id:20,label:"课程1-1",show_name:!0,show_del:!1,children:[{id:20,label:"课前习题",is_exer:!0,show_name:!0,show_del:!1},{id:4,label:"课时 1-1",show_name:!0,show_edit:!0,show_del:!1,children:[{id:9,label:"一般习题 1-1-1",show_name:!0,show_del:!0},{id:12,label:"一般习题 1-1-1",show_name:!0,show_del:!0}]}]}];return{courseId:0,classId:0,type:-1,filterText:"",data:JSON.parse(JSON.stringify(e)),leaf_prop:{label:"name",id:"id",isLeaf:"leaf"},id:0,dialog:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){var e=this;this.$axios.post("",this.qs.stringify({id:0}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(200==t.status){console.log(t);for(var i=0;i<t.data.courses.length;i++){for(var a=t.data.courses[i],s={id:a.id,label:a.course,show_name:!0,show_del:!1,children:[{id:a.pre_exercise,label:"课前习题",is_exer:!0,show_name:!0,show_del:!1}]},o=0;o<a.classes.length;o++){var n=a.classes[o];s.children.push({id:n.id,label:n.class_name,show_name:!0,show_edit:!0,show_del:!1,children:[{id:n.exercise_id,label:"一般习题",show_name:!0,show_del:!0},{id:n.exercise_easy_id,label:"简单习题",show_name:!0,show_del:!0},{id:n.exercise_middle_id,label:"困难习题",show_name:!0,show_del:!0},{id:n.exercise_hard_id,label:"简单习题",show_name:!0,show_del:!0}]})}e.data.data.push(s)}}}))},methods:{loadNode:function(e,t){var i=this;0==e.level?this.$axios.post("/course/list",{author_id:localStorage.getItem("userId")}).then((function(e){if(200==e.status){var a=[];return e.data.course.forEach((function(e){a.push({name:e.name,id:e.id,leaf:!1}),i.id=e.id})),i.id+=1,t(a)}})).catch((function(e){i.$message({message:e,type:"error"})})):1==e.level&&this.$axios.get("/course/info",{params:{id:e.data.id}}).then((function(e){if(200==e.status){var a=[];return e.data.className.forEach((function(t){a.push({id:i.id++,name:t,courseName:e.data.name,video_ids:e.data.video_ids,leaf:!0})})),t(a)}})).catch((function(e){i.$message({message:e,type:"error"})}))},seeAll:function(e,t){1==e.level?(console.log("edit course"+t.id),this.$router.push({name:"course_info",params:{courseId:t.id}})):2==e.level&&1!=t.is_exer?(console.log("edit single class => pop up dialogue for user to edit"+t.id),this.$router.push({name:"classView",params:{courseId:e.parent.data.id,classId:t.id,userId:localStorage.getItem("userId"),video_ids:[],courseName:t.courseName}})):this.$router.push({path:"/manage/adminViewExe/"+t.id})},edit:function(e,t){this.dialog=!0,this.aa=e,this.aa=t},remove:function(e,t){var i=e.parent,a=i.data.children||i.data,s=a.findIndex((function(e){return e.id===t.id})),o=this;this.$axios({url:"exericse/del_exercise",method:"post",data:{exercise_id:t.id}}).then((function(e){200==e.status&&(console.log(e),0==e.data.status?a.splice(s,1):o.$message("删除失败"))}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},resetChecked:function(){this.$refs.tree.setCheckedKeys([])},setCheckedNodes:function(){this.$refs.tree.setCheckedNodes(this.data)},getCheckedNodes:function(){var e=this,t=this.$refs.tree.getCheckedNodes();t.forEach((function(t){var i=e.$refs.tree.getNode(t);i.isLeaf&&4==i.level&&e.remove(i,i.data)})),this.resetChecked()},changeVisible:function(e){this.dialog=e}}}),n=o,r=(i("029e"),i("2877")),d=Object(r["a"])(n,a,s,!1,null,null,null);t["default"]=d.exports},c740:function(e,t,i){"use strict";var a=i("23e7"),s=i("b727").findIndex,o=i("44d2"),n=i("ae40"),r="findIndex",d=!0,l=n(r);r in[]&&Array(1)[r]((function(){d=!1})),a({target:"Array",proto:!0,forced:d||!l},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},c975:function(e,t,i){"use strict";var a=i("23e7"),s=i("4d64").indexOf,o=i("a640"),n=i("ae40"),r=[].indexOf,d=!!r&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),c=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:d||!l||!c},{indexOf:function(e){return d?r.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2315ed8f.e937d77b.js.map