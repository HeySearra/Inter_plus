(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4552ef04"],{"1ce4":function(e,t,i){"use strict";var a=i("9460"),s=i.n(a);s.a},"1dde":function(e,t,i){var a=i("d039"),s=i("b622"),o=i("2d00"),n=s("species");e.exports=function(e){return o>=51||!a((function(){var t=[],i=t.constructor={};return i[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,i){"use strict";var a=i("23e7"),s=i("b727").filter,o=i("1dde"),n=i("ae40"),r=o("filter"),l=n("filter");a({target:"Array",proto:!0,forced:!r||!l},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},8418:function(e,t,i){"use strict";var a=i("c04e"),s=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var n=a(t);n in e?s.f(e,n,o(0,i)):e[n]=i}},"8cba":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"编辑课时",visible:e.dialogueVisible,center:""},on:{"update:visible":function(t){e.dialogueVisible=t}}},[i("el-form",{attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"活动名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"活动区域","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[i("el-option",{attrs:{label:"区域一",value:"shanghai"}}),i("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("确 定")])],1)],1)},s=[],o={name:"editClass",props:{dialog:{default:!1}},data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",dialogueVisible:!1}},watch:{dialog:function(e){this.dialogueVisible=e}},methods:{closeDialog:function(){this.$emit("changeVisible",!1)},Submit:function(){this.$emit("changeVisible",!1)}}},n=o,r=i("2877"),l=Object(r["a"])(n,a,s,!1,null,"9134f8ee",null);t["a"]=l.exports},9460:function(e,t,i){},a434:function(e,t,i){"use strict";var a=i("23e7"),s=i("23cb"),o=i("a691"),n=i("50c4"),r=i("7b0b"),l=i("65f0"),d=i("8418"),c=i("1dde"),u=i("ae40"),f=c("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var i,a,c,u,f,h,v=r(this),_=n(v.length),w=s(e,_),x=arguments.length;if(0===x?i=a=0:1===x?(i=0,a=_-w):(i=x-2,a=p(m(o(t),0),_-w)),_+i-a>g)throw TypeError(b);for(c=l(v,a),u=0;u<a;u++)f=w+u,f in v&&d(c,u,v[f]);if(c.length=a,i<a){for(u=w;u<_-a;u++)f=u+a,h=u+i,f in v?v[h]=v[f]:delete v[h];for(u=_;u>_-a+i;u--)delete v[u-1]}else if(i>a)for(u=_-a;u>w;u--)f=u+a-1,h=u+i-1,f in v?v[h]=v[f]:delete v[h];for(u=0;u<i;u++)v[u+w]=arguments[u+2];return v.length=_-a+i,c}})},c740:function(e,t,i){"use strict";var a=i("23e7"),s=i("b727").findIndex,o=i("44d2"),n=i("ae40"),r="findIndex",l=!0,d=n(r);r in[]&&Array(1)[r]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!d},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},c975:function(e,t,i){"use strict";var a=i("23e7"),s=i("4d64").indexOf,o=i("a640"),n=i("ae40"),r=[].indexOf,l=!!r&&1/[1].indexOf(1,-0)<0,d=o("indexOf"),c=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!d||!c},{indexOf:function(e){return l?r.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})},e863:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"custom-tree-container"},[i("div",{staticClass:"block"},[i("div",{staticStyle:{margin:"25px 0px"}},[e._v(" 搜索："),i("el-input",{staticClass:"tree-input",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("span",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"warning"},on:{click:e.setCheckedNodes}},[e._v("全选")]),i("el-button",{attrs:{type:"primary"},on:{click:e.resetChecked}},[e._v("全不选")]),i("el-button",{attrs:{type:"danger"},on:{click:e.getCheckedNodes}},[e._v("批量删除")])],1)],1),i("el-tree",{ref:"tree",staticClass:"my-tree",attrs:{data:e.data,"show-checkbox":"","node-key":"id","filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,s=t.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(a.label))]),i("span",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:s.show_name,expression:"data.show_name"}],attrs:{icon:"el-icon-search",circle:""},on:{click:function(t){return e.seeAll(a,s)}}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:s.show_del,expression:"data.show_del"}],attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(){return e.remove(a,s)}}})],1)],1)])}}])})],1),i("edit-class",{attrs:{dialog:e.dialog},on:{changeVisible:e.changeVisible}})],1)},s=[],o=(i("4de4"),i("c740"),i("4160"),i("c975"),i("a434"),i("b0c0"),i("159b"),i("8cba")),n={name:"adminManageVideo",data:function(){var e=[{id:1,label:"老师 1",show_name:!0,show_del:!1,children:[{id:20,label:"课程1-1",show_name:!0,show_del:!1,children:[{id:20,label:"课前习题",is_exer:!0,show_name:!0,show_del:!1},{id:4,label:"课时 1-1",show_name:!0,show_del:!1,children:[{id:9,label:"一般习题 1-1-1",show_name:!0,show_del:!0},{id:12,label:"一般习题 1-1-1",show_name:!0,show_del:!0}]}]}]}];return{filterText:"",data:JSON.parse(JSON.stringify(e)),leaf_prop:{label:"name",id:"id",isLeaf:"leaf"},id:0,dialog:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){var e=this;this.$axios.post("",this.qs.stringify({}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if(200==t.status){console.log(t);for(var i=0;i<t.data.teachers.length;i++){for(var a=t.data.teachers[i],s={id:a.teacher_id,label:a.name,show_name:!0,show_del:!1,children:[]},o=0;o<a.courses.length;o++){for(var n=a.courses[o],r={id:n.id,label:n.course,show_name:!0,show_del:!1,children:[{id:n.pre_exercise,label:"课前习题",is_exer:!0,show_name:!0,show_del:!1}]},l=0;l<n.classes.length;l++){var d=n.classes[l];r.children.push({id:d.id,label:d.class_name,show_name:!0,show_edit:!0,show_del:!1,children:[{id:d.exercise_id,label:"一般习题",show_name:!0,show_del:!0},{id:d.exercise_easy_id,label:"简单习题",show_name:!0,show_del:!0},{id:d.exercise_middle_id,label:"困难习题",show_name:!0,show_del:!0},{id:d.exercise_hard_id,label:"简单习题",show_name:!0,show_del:!0}]})}s.children.push(r)}e.data.data.push(s)}}}))},methods:{loadNode:function(e,t){var i=this;0==e.level?this.$axios.post("/course/list",{author_id:localStorage.getItem("userId")}).then((function(e){if(200==e.status){var a=[];return e.data.course.forEach((function(e){a.push({name:e.name,id:e.id,leaf:!1}),i.id=e.id})),i.id+=1,t(a)}})).catch((function(e){i.$message({message:e,type:"error"})})):1==e.level&&this.$axios.get("/course/info",{params:{id:e.data.id}}).then((function(e){if(200==e.status){var a=[];return e.data.className.forEach((function(t){a.push({id:i.id++,name:t,courseName:e.data.name,video_ids:e.data.video_ids,leaf:!0})})),t(a)}})).catch((function(e){i.$message({message:e,type:"error"})}))},seeAll:function(e,t){1==e.level?console.log("edit course"+t.id):2==e.level?(console.log("edit course"+t.id),this.$router.push({name:"course_info",params:{courseId:t.id}})):3==e.level&&1!=t.is_exer?(console.log("edit single class => pop up dialogue for user to edit"+t.id),this.$router.push({name:"classView",params:{courseId:e.parent.data.id,classId:t.id,userId:localStorage.getItem("userId"),video_ids:[],courseName:t.courseName}})):this.$router.push({path:"/manage/adminViewExe/"+t.id})},remove:function(e,t){var i=e.parent,a=i.data.children||i.data,s=a.findIndex((function(e){return e.id===t.id})),o=this;this.$axios({url:"exericse/del_exercise",method:"post",data:{exercise_id:t.id}}).then((function(e){200==e.status&&(console.log(e),0==e.data.status?a.splice(s,1):o.$message("删除失败"))}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},resetChecked:function(){this.$refs.tree.setCheckedKeys([])},setCheckedNodes:function(){this.$refs.tree.setCheckedNodes(this.data)},getCheckedNodes:function(){var e=this,t=this.$refs.tree.getCheckedNodes();t.forEach((function(t){var i=e.$refs.tree.getNode(t);i.isLeaf&&4==i.level&&e.remove(i,i.data)})),this.resetChecked()},changeVisible:function(e){this.dialog=e}},components:{editClass:o["a"]}},r=n,l=(i("1ce4"),i("2877")),d=Object(l["a"])(r,a,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-4552ef04.ca1eb280.js.map