(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1df3301f"],{7803:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[e._m(0),t("el-card",{staticClass:"demo-registerForm",attrs:{shadow:"hover"}},[t("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.rules,"label-width":"0px"}},[t("el-form-item",{staticClass:"formlabel",attrs:{prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user",autofocus:"true"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.$refs.email.focus()}},model:{value:e.registerForm.name,callback:function(r){e.$set(e.registerForm,"name",e._n(r))},expression:"registerForm.name"}})],1),t("el-form-item",{staticClass:"formlabel",attrs:{prop:"email"}},[t("el-input",{ref:"email",attrs:{placeholder:"请输入邮箱","prefix-icon":"el-icon-message"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.$refs.pas.focus()}},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),t("el-form-item",{staticClass:"formlabel",attrs:{prop:"pass"}},[t("el-input",{ref:"pas",attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码","prefix-icon":"el-icon-edit"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.$refs.repas.focus()}},model:{value:e.registerForm.pass,callback:function(r){e.$set(e.registerForm,"pass",r)},expression:"registerForm.pass"}})],1),t("el-form-item",{staticClass:"formlabel",attrs:{prop:"checkPass"}},[t("el-input",{ref:"repas",attrs:{type:"password",placeholder:"再次输入密码以确认","prefix-icon":"el-icon-check",autocomplete:"off"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("registerForm")}},model:{value:e.registerForm.checkPass,callback:function(r){e.$set(e.registerForm,"checkPass",r)},expression:"registerForm.checkPass"}})],1),t("el-form-item",{staticStyle:{"margin-bottom":"0"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("registerForm")}}},[e._v("注册")]),t("el-button",{on:{click:function(r){return e.resetForm("registerForm")}}},[e._v("重置")]),t("br"),t("el-link",{staticClass:"to_login",on:{click:e.to_login}},[e._v("已有帐号？现在登录")])],1)],1)],1)],1)},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("h2",[t("figure")])}],i=(t("b0c0"),{name:"register",data:function(){var e=this,r=function(e,r,t){if(!r)return t(new Error("昵称不能为空"));t()},t=function(r,t,s){""===t?s(new Error("请输入密码")):(""!==e.registerForm.checkPass&&e.$refs.registerForm.validateField("checkPass"),s())},s=function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.registerForm.pass?s(new Error("两次输入密码不一致!")):s()},o=function(e,r,t){var s=/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;0===r.length?t(new Error("请输入邮箱")):s.test(r)?t():t(new Error("请输入形如xx@xx.xx格式的邮箱"))};return{registerForm:{pass:"",checkPass:"",name:"",email:""},rules:{pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}],name:[{validator:r,trigger:"blur"}],email:[{validator:o,trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(console.log(e),!e)return r.$message({message:"验证失败，请重新填写",type:"error"}),!1;r.$message({message:"验证成功，正在提交……",type:"success"}),r.$axios.post("/user/register",{email:r.registerForm.email,name:r.registerForm.name,password:r.registerForm.pass}).then((function(e){0===e.status?(r.$message({message:"注册成功！请登录",type:"success"}),r.$router.push({name:"login"})):r.$message({message:"注册失败",type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},to_login:function(){this.$route.params.to?this.$router.push({name:"login",params:{to:this.$route.params.to}}):this.$router.push({name:"login"})}}}),a=i,n=(t("ddb4"),t("2877")),l=Object(n["a"])(a,s,o,!1,null,null,null);r["default"]=l.exports},ddb4:function(e,r,t){"use strict";var s=t("ec8f"),o=t.n(s);o.a},ec8f:function(e,r,t){}}]);
//# sourceMappingURL=chunk-1df3301f.379cc45b.js.map