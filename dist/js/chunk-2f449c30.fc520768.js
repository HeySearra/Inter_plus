(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f449c30"],{"51b0":function(e,t,s){"use strict";var i=s("dd80"),a=s.n(i);a.a},"5bdf":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"classView"},[s("el-container",{attrs:{direction:"horizontal"}},[s("el-container",{attrs:{direction:"vertical"}},[s("el-main",[s("el-container",{attrs:{direction:"vertical"}},[s("div",{staticStyle:{position:"relative"}},[s("div",{staticStyle:{position:"absolute",left:"10px","font-size":"larger"}},[e._v(" "+e._s(e.courseInfo.className)+" ")]),s("div",{staticStyle:{position:"absolute",right:"10px"}},[e._v(" 选择章节: "),s("el-select",{attrs:{filterable:""},on:{change:e.getChap},model:{value:e.chapName,callback:function(t){e.chapName=t},expression:"chapName"}},e._l(e.chapters,(function(e){return s("el-option",{key:e.classId,attrs:{label:e.name,value:e.classId}})})),1),e._v(" 习题："),s("el-link",{on:{click:function(t){return e.toExe("1",e.courseInfo.courseId,e.chap)}}},[e._v("易")]),s("el-link",{on:{click:function(t){return e.toExe("2",e.courseInfo.courseId,e.chap)}}},[e._v("中")]),s("el-link",{on:{click:function(t){return e.toExe("3",e.courseInfo.courseId,e.chap)}}},[e._v("难")])],1)]),s("br"),s("div",[s("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:e.playerOptions}})],1)])],1),s("el-main",{staticStyle:{"text-align":"left",padding:"10px","line-height":"25px"}},[s("div",{staticStyle:{"font-size":"x-large"}},[e._v("本小节概要： ")]),s("br"),s("div",[e._v(e._s(e.classIntro))])])],1),s("div",{staticClass:"easide"},[s("el-aside",{staticStyle:{"min-width":"530px",height:"700px",padding:"0","overflow-y":"hidden"}},[s("div",[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"点击保存(Ctrl+S)即是提交笔记标题和内容哦~",placement:"left-start"}},[s("el-input",{attrs:{placeholder:"笔记标题"},model:{value:e.note.title,callback:function(t){e.$set(e.note,"title",t)},expression:"note.title"}})],1),s("mavon-editor",{ref:"editor",staticStyle:{height:"650px"},on:{save:e.saveDoc,change:e.updateDoc},model:{value:e.note.text,callback:function(t){e.$set(e.note,"text",t)},expression:"note.text"}})],1)])],1)],1),s("el-container",[s("el-main",[e._v(" 相关课程")])],1)],1)},a=[],o=(s("4160"),s("b0c0"),s("159b"),{name:"classView",data:function(){return{userId:1,courseInfo:{class_img:"http://img0.imgtn.bdimg.com/it/u=3318420653,2672036615&fm=26&gp=0.jpg",className:"语文",courseId:"1"},classIntro:"这是一门需要脑子的课。每星期五晚20：00更新。更多消息请关注老师微信123###",note:{id:1,title:"语文课笔记",text:"<h2>这是笔记内容！</h2>"},chap:"1.1",chapters:[{date:"2016-05-02",classId:"1.1",note_address:"上海市普陀区金沙江路 1518 弄",name:"1.1算法",v_address:"1",exercise_id:3},{date:"2016-05-04",classId:"1.2",note_address:"上海市普陀区金沙江路 1517 弄",name:"1.2哈希树",v_address:"1",exercise_id:3},{date:"2016-05-01",classId:"1.3",note_address:"上海市普陀区金沙江路 1519 弄",name:"1.3二叉树",v_address:"1",exercise_id:3},{date:"2016-05-03",classId:"2.1",note_address:"上海市普陀区金沙江路 1516 弄",name:"2.1搜索树",v_address:"1",exercise_id:3}],playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:"http://vjs.zencdn.net/v/oceans.mp4"}],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},note_id:0,video_id:0,chapName:"",exerciseId:3}},mounted:function(){console.log(this.$route.params),this.userId=this.$route.params.userId,this.courseInfo=this.$route.params.courseInfo,this.chapters=this.$route.params.allClass,this.chap=this.$route.params.classId,this.init(this.chap)},methods:{init:function(e){var t=this;console.log(this.chapters),this.chapters.forEach((function(s){s.classId==e&&(t.note_id=s.note_address,t.video_id=s.v_address,t.chapName=s.name)})),this.$axios.get("/video/info",{params:{video_id:this.video_id}}).then((function(e){200==e.status&&(t.classIntro=e.data.intro,t.playerOptions.sources[0].src=e.data.src)})).catch((function(e){t.$message({message:e,type:"error"})})),this.$axios.get("/note/info",{params:{note_id:this.note_id}}).then((function(e){200==e.status&&(console.log(e),t.note.id=e.note.id,t.note.title=e.note.title,t.note.text=e.note.text)})).catch((function(e){t.$message({message:e,type:"error"})}))},updateDoc:function(e,t){console.log("markdown内容: "+e),console.log("html内容:"+t)},saveDoc:function(e,t){console.log("markdown内容:"+e),console.log("html内容:"+t),this.note.text=e,this.onSubmit()},getChap:function(e){console.log(e),this.chap=e,this.init(this.chap)},toExe:function(e,t,s){var i=this;this.chapters.forEach((function(e){e.classId==s&&(i.exerciseId=e.exercise_id)})),this.$router.push({name:"exercise",params:{exerciseId:this.exerciseId,level:0,courseId:this.classCard.courseId}})},onSubmit:function(){var e=this;this.$axios.post("/note/info",{id:this.note.id,title:this.note.title,text:this.note.text,class_id:this.chap,course_id:this.courseInfo.courseId,author_id:this.userId}).then((function(t){1==t.status?(e.note.id=t.data.note.id,e.note.title=t.data.note.title,e.note.text=t.data.note.text):e.$message({message:t.data.note,type:"error"})})).catch((function(t){e.$message({message:t,type:"error"})}))}}}),n=o,c=(s("51b0"),s("2877")),r=Object(c["a"])(n,i,a,!1,null,"6c446f99",null);t["default"]=r.exports},dd80:function(e,t,s){}}]);
//# sourceMappingURL=chunk-2f449c30.fc520768.js.map